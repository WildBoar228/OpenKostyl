# OpenKostyl
Проект создан командой White Wings для упрощения и ускорения калибровки цветовых диапазонов на камерах OpenMV. Программа запускается на компьютере, обмениваясь информацией с камерой.
За основу были взяты следующие материалы, предоставленные OpenMV:
* https://github.com/openmv/openmv/blob/master/scripts/libraries/rpc.py
* https://www.youtube.com/watch?v=WRHrqlKBZ3s

## Начало использования
В корне репозитория находится папка .venv с виртуальным окружением, которое содержит все необходимые для запуска библиотеки. Также в файле requirements.txt перечислены зависимости проекта, которые можно установить вручную или введя в терминале `pip install -r requirements.txt`.
В папке cam_example находятся файлы для камеры:
* `connect_to_kostyli.py` - модуль, который содержит функционал для передачи данных в OpenKostyl.
* `thresholds.txt` - текстовый файл с сохранёнными цветами.
* `blobs.py` - простой проект, который нужно сохранить на камере как main.py. Если питание поступает на камеру через USB (т.е. камера подключена к компьютеру), скрипт обменивается информацией с OpenKostyl. Иначе (если питание идёт через другие каналы) скрипт ищет блобы цветов, перечисленных в файле `thresholds.txt`, и выделяет их на изображении. Чтобы можно было искать блобы при подключении к OpenMV IDE, закомментируйте строку кода `connect_to_kostyli.connect_to_comp()`.

Чтобы начать калибровку камеры, подключите её через USB-порт и запустите скрипт OpenKostyl.py в предоставленной виртуальной среде или в вашем интерпретаторе.
**Обратите внимание**: подключение к камере, уже подключенной к OpenMV IDE, невозможно. Отключитесь от камеры в OpenMV IDE, чтобы OpenKostyl мог работать.

OpenKostyl пытается автоматически выбрать COM-порт с камерой OpenMV. Если у него не получилось, введите его название сами (например, COM11).
